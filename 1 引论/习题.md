1. 操作系统的两大主要作用

* 作为硬件的功能扩展
* 作为资源管理者
* 其实还有一个就是为用户提供各种系统服务

2. 书中列出的9种不同的操作系统，列举每种操作系统的应用

3. 分时操作系统和多道程序系统的区别是什么？

* 分时操作系统是将CPU时间划分为时间片，多个用户可以通过终端来访问和执行计算。
* 多道程序系统允许一个用户同时执行多个程序。
* 区别：所有的分时系统都是多道程序系统，但是不是所有的多道程序系统都是分时系统，因为剁成程序系统可能只有一个用户

4. 为了使用高速缓存，主存被划分为若干cache行，通常每行长32或64字节。每次缓存一整个cache行。每次缓存一整行而不是一个字节或者一个字，这样做的邮件

* 整体是访问的局部性原理。经验表明内存访问的法则是局部性，如果一个位置数据被读取，那么与该位置相邻的下一块区域需要被读到的可能性非常高，尤其是内存。
* 所以通过缓存一整行，那么下次缓存的命中率会增加。另外，现在硬件可以传输一个32或者64字节的块到缓存行，读取读取一块比读取单个字的速度要快很多。

5. 在早期的计算机中，每个字节的读写直接由CPU处理（即没有DMA）。对于多道程序而言，这种组织方式有什么含义？

* 多道程序系统主要是在等待IO的时候可以让CPU处理其他的东西。如果没有DMA，那么CPU就会一直忙于处理I/O。无论一个程序处理了多少IO，CPU利用率会达到100%。如果I/O较慢，那门CPU可以处理其他事情。

6. 与访问I/O设备相关的指令通常是特权指令，也就是说，它们能在内核态执行而不在用户态执行，。说明为什么这些指令是特权指令。

* 主要原因是系统保护，因为用户可能没有权限访问或者更改内容。
* 
7. 系列计算机的思想在20世纪60年代由IBM引入System/大型机。现在这种思想已经消亡了还是继续活跃着？

* 这种思想目前依然活跃着。


8.

9. 在建立一个操作系统时有几个设计目的。例如资源利用率、及时性、健壮性等。请列举两个可以互相矛盾的设计目的。

* 实时性与公平性
* 公平要求使用一种公平的方式为每个进程分配资源，应该没有进程获得的资源比其他进程多或者少
* 实时要求根据时间来分配资源以完成不同进程的执行完成。一个实时进程可能会得到不通比例的资源以达到实时目标

10. 内核态和用户态有哪些区别？解释在设计操作系统时存在两种不同状态有什么帮助？

* 内核态和用户态的区别：内核态可以使用CPU所有的指令，而用户态只能使用CPU的部分指令
* 两种状态的帮助：用户程序运行在用户态下，并且内核态可以阻止用户访问系统的关键指令
* 备注：用户态可以切换到内核态，切换方式为系统调用，调用TRAP指令陷入内核

11. 一个255GB大小的磁盘有65535个柱面每个磁道有255个扇区，每个扇区有512个字节，这个磁盘有多少个盘片？假设平均寻到时间为11ms，平均旋转延迟为7ms，读取速率为100MB/s计算从一个扇区读取400KB需要的平均时间
* **柱面与磁头计算**
* 盘片： 一般盘片有两个柱面
* 磁头：一个盘片有两个磁头
* 硬盘大小计算公式： 硬盘大小=（盘片个数 * 2 ） * 柱面个数 * 扇区个数 * 扇区大小
* 每个盘片一般有两个磁头
* 那么根据上面的计算公式得到：
* 255GB转换为字节 = 255 * 1024 * 1024 * 1024 * 1024
* 255 * 1024 * 1024 * 1024 = （盘片个数 * 2 ） * 65535 * 255 * 512
* **读取数据的平均时间**
* 平均时间公式：寻道时间 + 旋转延迟 + 传输时间

12. 下面的哪条指令只能在内核态使用？

* 禁止所有中断
* 读日期-时间时钟
* 设置日期-时间时钟
* 改变存储器映像

* 答案：1、3、4  主要考虑问题为系统保护

